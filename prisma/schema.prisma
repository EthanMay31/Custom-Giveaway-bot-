generator client {
  provider               = "prisma-client"
  output                 = "../src/generated/prisma"
  runtime                = "nodejs"
  moduleFormat           = "esm"
  importFileExtension    = "js"
}

datasource db {
  provider = "postgresql"
}

model Giveaway {
  id              Int      @id @default(autoincrement())
  guildId         String
  channelId       String
  messageId       String   @unique
  name            String
  hostId          String
  winnersCount    Int
  actualWinnerIds String[]
  entries         String[]
  duration        String
  endsAt          DateTime
  ping            Boolean  @default(false)
  ended           Boolean  @default(false)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([guildId])
  @@index([ended])
  @@index([endsAt])
  @@index([guildId, ended])
}

model GuildSettings {
  id        Int      @id @default(autoincrement())
  guildId   String   @unique
  color     String   @default("#5865F2")
  emoji     String   @default("ðŸŽ‰")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
